var PromiseEstimator=function(){'use strict';function a(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a}function b(a,b){return b={exports:{}},a(b,b.exports),b.exports}function c(a,c){function b(){this.constructor=a}h(a,c),a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)}function d(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function e(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,f,g=c.call(a),h=[];try{for(;(void 0===b||0<b--)&&!(d=g.next()).done;)h.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=g["return"])&&c.call(g)}finally{if(f)throw f.error}}return h}function g(a){return this instanceof g?(this.v=a,this):new g(a)}var h=function(a,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var b in c)Object.prototype.hasOwnProperty.call(c,b)&&(a[b]=c[b])},h(a,c)},i=function(){return i=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a},i.apply(this,arguments)},j=Object.create?function(a,b,c,d){d===void 0&&(d=c),Object.defineProperty(a,d,{enumerable:!0,get:function(){return b[c]}})}:function(a,b,c,d){d===void 0&&(d=c),a[d]=b[c]},l=Object.create?function(a,b){Object.defineProperty(a,"default",{enumerable:!0,value:b})}:function(a,b){a["default"]=b},m=Object.freeze({__proto__:null,__extends:c,get __assign(){return i},__rest:function(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c},__decorate:function(a,b,e,f){var g,h=arguments.length,c=3>h?b:null===f?f=Object.getOwnPropertyDescriptor(b,e):f;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(a,b,e,f);else for(var j=a.length-1;0<=j;j--)(g=a[j])&&(c=(3>h?g(c):3<h?g(b,e,c):g(b,e))||c);return 3<h&&c&&Object.defineProperty(b,e,c),c},__param:function(a,b){return function(c,d){b(c,d,a)}},__metadata:function(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)},__awaiter:function(a,b,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new(c||(c=Promise))(function(c,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d["throw"](a))}catch(a){f(a)}}function i(a){a.done?c(a.value):e(a.value).then(g,h)}i((d=d.apply(a,b||[])).next())})},__generator:function(a,b){function c(a){return function(b){return d([a,b])}}function d(c){if(e)throw new TypeError("Generator is already executing.");for(;k;)try{if(e=1,h&&(i=2&c[0]?h["return"]:c[0]?h["throw"]||((i=h["return"])&&i.call(h),0):h.next)&&!(i=i.call(h,c[1])).done)return i;switch((h=0,i)&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return k.label++,{value:c[1],done:!1};case 5:k.label++,h=c[1],c=[0];continue;case 7:c=k.ops.pop(),k.trys.pop();continue;default:if((i=k.trys,!(i=0<i.length&&i[i.length-1]))&&(6===c[0]||2===c[0])){k=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){k.label=c[1];break}if(6===c[0]&&k.label<i[1]){k.label=i[1],i=c;break}if(i&&k.label<i[2]){k.label=i[2],k.ops.push(c);break}i[2]&&k.ops.pop(),k.trys.pop();continue;}c=b.call(a,k)}catch(a){c=[6,a],h=0}finally{e=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}var e,h,i,j,k={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return j={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(j[Symbol.iterator]=function(){return this}),j},__createBinding:j,__exportStar:function(a,b){for(var c in a)"default"==c||Object.prototype.hasOwnProperty.call(b,c)||j(b,a,c)},__values:d,__read:e,__spread:function(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(e(arguments[b]));return a},__spreadArrays:function(){for(var b=0,c=0,d=arguments.length;c<d;c++)b+=arguments[c].length;for(var e=Array(b),f=0,c=0;c<d;c++)for(var g=arguments[c],a=0,h=g.length;a<h;a++,f++)e[f]=g[a];return e},__await:g,__asyncGenerator:function(a,b,c){function d(c){m[c]&&(l[c]=function(d){return new Promise(function(f,a){1<o.push([c,d,f,a])||e(c,d)})})}function e(a,b){try{f(m[a](b))}catch(a){k(o[0][3],a)}}function f(a){a.value instanceof g?Promise.resolve(a.value.v).then(h,j):k(o[0][2],a)}function h(a){e("next",a)}function j(a){e("throw",a)}function k(a,b){(a(b),o.shift(),o.length)&&e(o[0][0],o[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l,m=c.apply(a,b||[]),o=[];return l={},d("next"),d("throw"),d("return"),l[Symbol.asyncIterator]=function(){return this},l},__asyncDelegator:function(a){function b(b,e){c[b]=a[b]?function(c){return(d=!d)?{value:g(a[b](c)),done:"return"===b}:e?e(c):c}:e}var c,d;return c={},b("next"),b("throw",function(a){throw a}),b("return"),c[Symbol.iterator]=function(){return this},c},__asyncValues:function(a){function b(b){e[b]=a[b]&&function(d){return new Promise(function(e,f){d=a[b](d),c(e,f,d.done,d.value)})}}function c(a,b,c,d){Promise.resolve(d).then(function(b){a({value:b,done:c})},b)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,f=a[Symbol.asyncIterator];return f?f.call(a):(a="function"==typeof d?d(a):a[Symbol.iterator](),e={},b("next"),b("throw"),b("return"),e[Symbol.asyncIterator]=function(){return this},e)},__makeTemplateObject:function(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a},__importStar:function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)"default"!=c&&Object.prototype.hasOwnProperty.call(a,c)&&j(b,a,c);return l(b,a),b},__importDefault:function(a){return a&&a.__esModule?a:{default:a}},__classPrivateFieldGet:function(a,b){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return b.get(a)},__classPrivateFieldSet:function(a,b,c){if(!b.has(a))throw new TypeError("attempted to set private field on non-instance");return b.set(a,c),c}}),n=b(function(a,b){Object.defineProperty(b,"__esModule",{value:!0}),b.PromiseEstimator=void 0;b.PromiseEstimator=class{constructor(){this.estimates={}}getEstimate(a,b){return this.estimates[a]||(this.estimates[a]=b),b=this.estimates[a],b}updateEstimate(a,b){this.estimates[a]=b}work(a,b){return new Promise(c=>{let{estimate:d,id:e}=b;const{interval:f,intervalHandler:g}=b;d=this.getEstimate(e,d);const h=Date.now();let i=setInterval(()=>{if(0<d){const a=Date.now()-h,b=d-a;0<b?g(+(a/d).toFixed(2)):(clearInterval(i),g(.99))}},f);a.then(a=>{clearInterval(i),g(1);const b=Date.now()-h;this.updateEstimate(e,b),c(a)})})}}});a(n);var o=n.PromiseEstimator,p=b(function(a,b){Object.defineProperty(b,"__esModule",{value:!0}),m.__exportStar(n,b),b.default=n.PromiseEstimator}),q=a(p);return q}();
//# sourceMappingURL=browser.min.js.map
